<div *ngIf="!isEditing" class="profile-container w-100 h-100 d-flex flex-column p-3">
  <!-- Header -->
  <div class="d-flex align-items-center justify-content-between border-bottom pb-3 mb-4">
    <h4 class="m-0 fw-bold text-primary">Profile</h4>
    <button class="btn btn-outline-secondary rounded-circle" (click)="backHome()">
      <i class="fa-solid fa-house"></i>
    </button>
  </div>

  <!-- Profile Info -->
  <div class="row justify-content-center align-items-center text-center flex-wrap">
    <div class="col-lg-4 col-md-5 col-sm-12 mb-3 d-flex justify-content-center imageBox">
      <div class="user-img position-relative" [style.background]="'url(' + userData?.profileImage + ')'">
      </div>
    </div>

    <div class="col-lg-6 col-md-7 col-sm-12 text-center text-md-start">
      <h5 class="fw-bold mb-1">{{ userData?.userName || 'User Name' }}</h5>
      <p class="text-muted m-0">{{ userData?.email || 'example@email.com' }}</p>
      <p class="text-muted m-0 small">{{ userData?.bio || 'No bio available' }}</p>
    </div>
  </div>

  <!-- Optional actions -->
  <div class="mt-5 d-flex flex-wrap justify-content-center gap-3">
    <button class="btn btn-primary px-4" (click)="toggleEdit()">
      <i class="fa-solid fa-pen me-2"></i>Edit Profile
    </button>



    <button class="btn btn-outline-danger px-4">
      <i class="fa-solid fa-trash me-2"></i>Delete Account
    </button>
  </div>
</div>

<div *ngIf="isEditing" class="mt-3">
  <form (ngSubmit)="updateProfile()" #editForm="ngForm">
    <div class="mb-3">
      <label class="form-label">Name</label>
      <input type="text" [(ngModel)]="userData.userName" name="userName" class="form-control" />
    </div>

    <div class="mb-3">
      <label class="form-label">Profile Image</label>
      <input type="file" (change)="onFileSelected($event)" class="form-control" />
    </div>

    <button type="submit" class="btn btn-success me-2">Save</button>
    <button type="button" class="btn btn-secondary" (click)="toggleEdit()">Cancel</button>
  </form>
</div>
